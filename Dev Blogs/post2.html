<!DOCTYPE HTML>
<!--
	Hyperspace by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Generic - Hyperspace by HTML5 UP</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="../assets/css/main.css" />
		<noscript><link rel="stylesheet" href="../assets/css/noscript.css" /></noscript>
	
		<style>
			#hcg-slider-1 .hcg-slide-container {
				width: auto;
				height: auto;
			}

			.hcg-slider {
				text-align: center;
				font-family: Arial, Helvetica, sans-serif;
			}

			.hcg-slide-container {
				max-width: 100%;
				display: inline-block;
				position: relative;
			}

			.hcg-slides {
				display: none;
				text-align: center;
				overflow: hidden;
			}

				.hcg-slides img {
					max-width: 100%;
					max-height: 100%;
					display: inline-block;
					border-radius: 5px;
					border: solid 1px #a0a0a0;
					vertical-align: middle;
				}

			.hcg-slide-text {
				color: #ffffff;
				font-size: 14px;
				padding: 3px 5px;
				position: absolute;
				bottom: 0;
				border-radius: 5px;
				left: 50%;
				text-align: center;
				text-shadow: 0 0 2px #000;
				background-color: rgba(255,255,255,0.30);
				display: inline-block;
				transform: translate(-50%, -5px);
			}

			.hcg-slide-prev, .hcg-slide-next {
				cursor: pointer;
				position: absolute;
				top: 50%;
				width: auto;
				padding: 16px;
				margin-top: -22px;
				color: #fff;
				font-weight: bold;
				font-size: 18px;
				transition: 0.6s ease;
				border-radius: 0 3px 3px 0;
				text-decoration: none;
			}

			.hcg-slide-next {
				right: 0;
				border-radius: 3px 0 0 3px;
			}

			.hcg-slide-prev {
				left: 0;
				border-radius: 0 3px 3px 0;
			}

				.hcg-slide-prev:hover, .hcg-slide-next:hover {
					background-color: #000c;
				}

			.hcg-slide-dot-control {
				margin-top: 10px;
				text-align: center;
			}

			.hcg-slide-dot {
				cursor: pointer;
				height: 13px;
				width: 13px;
				margin: 0 2px;
				background-color: #bbb;
				border-radius: 50%;
				display: inline-block;
			}

				.hcg-slide-dot.dot-active {
					background-color: #717171;
				}

			.hcg-slide-number {
				color: #ffffff;
				font-size: 12px;
				padding: 4px 7px;
				position: absolute;
				border-radius: 5px;
				top: 5px;
				left: 5px;
				background-color: rgba(255,255,255,0.30);
			}
			/************CSS Animation***********/

			.animated {
				animation-name: fadeIn;
				animation-duration: 1s;
			}

			@keyframes fadeIn {
				0% {
					opacity: 0;
				}

				100% {
					opacity: 1;
				}
			}

			.fadeIn {
				animation-name: fadeIn;
			}
		</style>



	
	</head>
	<body class="is-preload">

		<!-- Header -->
		<header id="header">
			<a href="../index.html" class="title">Home</a>
			<nav>
				<ul>
					<li><a href="../index.html">Home</a></li>
					<li><a href="ProjectDriftIndex.html" class="active">Dev Blog</a></li>
					
				</ul>
			</nav>
		</header>

		<!-- Wrapper -->
		<div id="wrapper">

			<!-- Main -->
			<section id="main" class="wrapper">
				<div class="inner">
					<h1 class="major">1/22 - 2/4</h1>

					<!--Time Summary-->
					<div style="padding:0px 0px 40px 0px">
						<h2>Time Summary: 12.5 hours</h2>
						<div style="padding-left: 20px">
							<h3 style="font-weight: normal"><strong>Studio Meetings:</strong> 4 hours</h3>
							<h3 style="font-weight: normal"><strong>Camera Movement:</strong> 3 hours</h3>
							<h3 style="font-weight: normal"><strong>Tutorial Text System:</strong> 1 hours</h3>
							<h3 style="font-weight: normal"><strong>Encounter System:</strong> 4.5 hours</h3>
							<h3 style="font-weight: normal"><strong>Dev Log:</strong> 1 hour</h3>
						</div>
					</div>

					<!--Topic-->
					<h2>Camera Movement</h2>
					<div style="padding-left: 20px">
						<p>
							My first task of the week was to create a camera movement for Project Drift.  In a previous rapid prototype I worked on, I had set up bounded camera movements and triggers
							by hardcoding the cameras bounds into a script, and various triggers that would change these hard coded camera bounds.  I was never able to figure out a way to set up 1 polygon
							collider that would act as a bound for the camera, and make the camera be able to switch between these various desired bounds.
						</p>

						<p>
							However for Project Drift, I discovered the magic of CineMachines!  They do everything I was hoping could and would be done in my Rapid Prototype from last October, and more!  It is
							definetely something I will use in projects going forth, and when I do eventually expand the prototype I made back then, I plan to redu all the camera movement with cinemachines
							to make expanding the game easier.
						</p>

						<h3>Cinemachines!</h3>


						<div style="padding-left: 20px; display: inline-block;">
							<div class="col-4" style="padding: 10px">
								<span class="image fit"><img src="post2images/cinemachineinspector.png" alt="" /></span>
								<p>
									This is what the set up looks like in hierarchy.  Main Camera has a bunch of Virtual Cameras attached to it.  Each virtual camera can have what it follows set,
									which in this case is the player, a polygon collider boundery set which tells the virtual camera the edge of where it should be able to look, and even cool options
									like damping which tells the camera whether it should always try to have the player directly in the center of the screen (with exceptions to bounds
									of course) or if the player runs to the right, if the camera should lag behind it and not be able to catch up until the player stops or changes directions.
									Cinemachines and it's virtual cameras definetely add a little aspect of juice that would be hard to handcode
								</p>
							</div>

							<div style="display:flex">
								<div style="float:left; padding: 20px; width: 400%">
									<img src="post2images/cinemachinebrain.png" alt="" width="100%" style="float:left; padding: 10px" />
									<p style="padding: 10px; display: inline-block; font-display: block">
										This is the inspector of the Main camera.  Note the Cinemachine Brain attached which does most of the hard work for me.  It is
										also worth mentioning the Cinemachine Brain Controller I created and attached.  I made this so that all virtual cameras that have lower priorty and are not selected
										at the start at deactivated to avoid bugs in the future.
									</p>
								</div>

								<div style="float: left; padding: 20px">
									<img src="post2images/cinemachinevirtual.png" alt="" width="100%" style="float: left; padding: 10px" />
									<p style="padding: 10px; display: inline-block; font-display: block">
										This is an example of a virtual cinemachine. Note that is it set to follow the player, and the Bounding 2D Shape is set
										to a composite collider incase designers want to change it from a box to a polygon in the future.
									</p>

								</div>
							</div>

						</div>
					</div>

					<!--Topic-->
					<div style="padding:0px 0px 40px 0px">
						<h2>Tutorial Text System</h2>
						<div style="padding-left: 20px">
							<p>
								Overall this was a pretty straight forward task.  I had to first create a trigger that would check if the player entered it, then set the TutorialText to active, then change its text to
								whatever the trigger's Serialized string TextToShow field said.  Using coroutines I was able to add a little aspect of juice by fading this in and out.  The only real obstacle I had
								was adding an option for if they want a background behind the text, in our case most likely just a black background, and if so how to change its size accordingly to the text.  This
								again was fairly straight forward as I just had to access the text's preferred width and height, and set the black background to that size.  I did find that it was a little tight to the text
								when I did that, so I added a range Serialized field float called padding which will thicken the black box the higher that the number is set to.
							</p>
						</div>
					</div>

					<!--Topic-->
					<div style="padding:0px 0px 40px 0px">
						<h2>Encounter System</h2>
						<div style="padding-left: 20px">
							<p>
								Creating the encounter system was probably my biggest challenge of the week.  The biggest challenge was mostly deciding how I wanted to structure it.  I knew this would be used
								probably every day by designers and so I wanted to make sure it would make sense for them to understand without having to try and understand my code.  I also was asked to make a
								confluence page for the encounter system, so I'll link that below instead of reexplaining how I did everything.
							</p>
							<a href=https://studio.eecs.umich.edu/confluence/display/PD/Guide%3A+Encounter+System class="active">Confluence Page</a>
							<center>
								<video width="960" height="720" controls>
									<source src="post2images/EncounterSystem.mp4" type="video/mp4">
									<source src="post2images/EncounterSystem.ogg" type="video/ogg">
									Your browser does not support the video tag.
								</video>
							</center>

						</div>
					</div>

				</div>
			</section>

		</div>




		<!-- Scripts -->
		<script src="../assets/js/jquery.min.js"></script>
		<script src="../assets/js/jquery.scrollex.min.js"></script>
		<script src="../assets/js/jquery.scrolly.min.js"></script>
		<script src="../assets/js/browser.min.js"></script>
		<script src="../assets/js/breakpoints.min.js"></script>
		<script src="../assets/js/util.js"></script>
		<script src="../assets/js/main.js"></script>

		<script>
			(function () {
				//If you want to include more images, add the link name and URL of the image in the array list below.
				let images_list = [
					{ "url": "https://html-generator.com/uploads/images/2022/09/26/294498VTE8U6K5W.png", "name": "294498VTE8U6K5W.png", "link": "" },
					{ "url": "https://html-generator.com/uploads/images/2022/09/26/81353_A06N4PM7N.png", "name": "81353_A06N4PM7N.png", "link": "" },
					{ "url": "https://html-generator.com/uploads/images/2022/09/26/82073XYSMRK8HM_.png", "name": "82073XYSMRK8HM_.png", "link": "" },
					{ "url": "https://html-generator.com/uploads/images/2022/09/26/745759F4E4V6F_N.png", "name": "745759F4E4V6F_N.png", "link": "" },
					{ "url": "https://html-generator.com/uploads/images/2022/09/26/7535672LZ3SQ7JN.png", "name": "7535672LZ3SQ7JN.png", "link": "" },
					{ "url": "https://html-generator.com/uploads/images/2022/09/26/76384CPPG5H11RG.png", "name": "76384CPPG5H11RG.png", "link": "" },
					{ "url": "https://html-generator.com/uploads/images/2022/09/26/77452BX1SEWFID1.png", "name": "77452BX1SEWFID1.png", "link": "" },
					{ "url": "https://html-generator.com/uploads/images/2022/09/26/78771UOY8_XU1SZ.png", "name": "78771UOY8_XU1SZ.png", "link": "" },
					{ "url": "https://html-generator.com/uploads/images/2022/09/26/80277PP56JI_FP2.png", "name": "80277PP56JI_FP2.png", "link": "" },
					{ "url": "https://html-generator.com/uploads/images/2022/09/26/8096675BCYHGV_2.png", "name": "8096675BCYHGV_2.png", "link": "" }
				];

				let slider_id = document.querySelector("#hcg-slider-1");

				// append all images
				let dots_div = "";
				let images_div = "";
				for (let i = 0; i < images_list.length; i++) {
					// if no link without href="" tag
					let href = (images_list[i].link == "" ? "" : ' href="' + images_list[i].link + '"');
					images_div += '<a' + href + ' class="hcg-slides animated"' + (i === 0 ? ' style="display:block"' : '') + '>' +
						'<span class="hcg-slide-number">' + (i + 1) + '/' + images_list.length + '</span>' +
						'<img src="' + images_list[i].url + '" alt="' + images_list[i].name + '">' +
						'<span class="hcg-slide-text">' + images_list[i].name + '</span>' +
						'</a>';
					dots_div += '<span class="hcg-slide-dot' + (i === 0 ? ' dot-active' : '') + '" data-id="' + i + '"></span>';
				}
				slider_id.querySelector(".hcg-slider-body").innerHTML = images_div;
				slider_id.querySelector(".hcg-slide-dot-control").innerHTML = dots_div;

				let slide_index = 0;

				let images = slider_id.querySelectorAll(".hcg-slides");
				let dots = slider_id.querySelectorAll(".hcg-slide-dot");
				let prev_button = slider_id.querySelector(".hcg-slide-prev");
				let next_button = slider_id.querySelector(".hcg-slide-next");

				function showSlides() {
					if (slide_index > images.length - 1) {
						slide_index = 0;
					}
					if (slide_index < 0) {
						slide_index = images.length - 1;
					}
					for (let i = 0; i < images.length; i++) {
						images[i].style.display = "none";
						dots[i].classList.remove("dot-active");
						if (i == slide_index) {
							images[i].style.display = "block";
							dots[i].classList.add("dot-active");
						}
					}
				}

				prev_button.addEventListener("click", function (event) {
					event.preventDefault();
					slide_index--;
					showSlides();
				}, false);

				next_button.addEventListener("click", function (event) {
					event.preventDefault();
					slide_index++;
					showSlides();
				}, false);

				function dot_click(event) {
					slide_index = event.target.dataset.id;
					showSlides();
				}

				for (let i = 0; i < dots.length; i++) {
					dots[i].addEventListener("click", dot_click, false);
				}
			})();
		</script>



	</body>
</html>